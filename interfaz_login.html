<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Iniciar Sesión</title>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    /* ===== Variables de layout (coinciden con el card) ===== */
    :root{
      --container-w: 800px;          /* max-width de .container */
      --container-pad: 20px;
      --container-bl: 4px;

      --banner-h: 64px;
      --page-sidepad: 16px;
      --banner-bg: #e6e9ee;          /* gris nardo */
      --banner-bg-hover: #d7dbe3;
    }

    /* ===== Base ===== */
    body {
      font-family: 'Open Sans', sans-serif;
      background-color: #eeeeee;
      margin: 0;
      padding: 20px;
      color: #333;
      padding-top: calc(var(--banner-h) + 8px); /* espacio para banner fijo */
    }
    .container {
      max-width: var(--container-w);
      margin: auto;
      padding: var(--container-pad);
      background-color: #ffffff;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
      border-radius: 10px;
      border-left: var(--container-bl) solid #5c6bc0;
    }

    h1 {
      text-align: center;
      color: #000;
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 20px;
    }
    label {
      display: block;
      margin: 10px 0;
      color: #003366;
      font-size: 16px;
      font-weight: 400;
    }
    input[type="text"], input[type="password"] {
      width: 100%;
      padding: 12px;
      margin-bottom: 12px;
      border: 2px solid #dddddd;
      border-radius: 5px;
      box-sizing: border-box;
      transition: border-color 0.3s;
      font-size: 16px;
    }
    input[type="text"]:focus, input[type="password"]:focus {
      outline: none;
      border-color: #7da2a9;
    }

    /* ===== Botones ===== */
    button {
      display: block;
      width: 100%;
      margin: 10px 0;
      border: none;
      padding: 15px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-weight: 600;
      transition: background-color 0.3s, transform 0.3s;
      color: white;
      font-size: 16px;
    }
    .btn-inicio { background-color: #5c6bc0; }
    .btn-inicio:hover { background-color: #3f51b5; transform: translateY(-2px); }

    /* Botón reducido (~75% del ancho, centrado) */
    .btn-slim{
      width: min(640px, 75%);
      margin-left: auto;
      margin-right: auto;
    }

    /* Mensaje de feedback */
    .msg {
      text-align: center;
      font-size: 14px;
      margin-top: 6px;
      color: #c62828; /* rojo error */
      min-height: 18px; /* evita salto de layout */
    }

    p {
      text-align: center;
      font-size: 16px;
      color: #003366;
      font-weight: 400;
    }
    p a { color: #5c6bc0; text-decoration: none; }
    p a:hover { text-decoration: underline; }

    /* ===== Banner fijo (mismo ancho que el card) ===== */
    .app-banner{
      position: fixed; top: 0; left: 0; right: 0; height: var(--banner-h);
      z-index: 9999; background: transparent;
    }
    .app-banner .banner-box{
      height: 100%;
      width: min(calc(var(--container-w) + var(--container-pad)*2 + var(--container-bl)),
                 calc(100% - var(--page-sidepad)*2));
      margin: 0 auto;
      background: var(--banner-bg);
      border-bottom: 1px solid rgba(0,0,0,.06);
      border-radius: 10px;
      transition: background-color .2s ease;
      display: flex; align-items: center;
    }
    .app-banner .banner-box:hover,
    .app-banner .banner-box:focus-within{ background: var(--banner-bg-hover); }

    .app-banner .banner-inner{
      display: grid; grid-template-columns: 1fr auto 1fr; align-items: center;
      gap: 8px; width: 100%; padding: 0 12px;
    }
    .banner-back{ justify-self: start; }
    .banner-title{ justify-self: center; font-weight: 700; color: #233247; }
    .banner-logo{ justify-self: end; display: inline-flex; align-items: center; }
    .banner-logo img{ width: 52px; height: auto; display: block; }

    /* botón volver del banner */
    .back-button{
      display:inline-block; text-decoration:none; font-size:14px; color:#5c6bc0;
      padding:8px 12px; border:1px solid #5c6bc0; border-radius:6px;
      transition: background-color .2s, color .2s;
    }
    .back-button:hover{ background:#5c6bc0; color:#fff; }

    /* ===== LEGAL FUERA DE LA PÁGINA ===== */
    .legal-outside{
      margin: 18px auto 24px;
      padding: 10px 12px;
      max-width: calc(var(--container-w) + var(--container-pad)*2 + var(--container-bl));
      text-align: center; color: #666; font-size: 14px; line-height: 1.35;
    }

    @media (max-width: 768px) {
      .container { width: 100%; padding: 10px; }
      h1, .banner-title { font-size: 20px; }
      label, button, p { font-size: 14px; }
      .btn-slim{ width: 100%; }
    }
  </style>
</head>
<body>

  <!-- ===== BANNER SUPERIOR ===== -->
  <header class="app-banner" role="banner">
    <div class="banner-box">
      <div class="banner-inner">
        <a href="#" class="back-button banner-back" onclick="history.back(); return false;">&larr; Volver</a>
        <div class="banner-title">Iniciar Sesión</div>
        <a href="interfaz_inicio_s.html" class="banner-logo" aria-label="Ir al inicio">
          <img src="LogoCitasYa.png" alt="Citas Ya">
        </a>
      </div>
    </div>
  </header>

  <div class="container">
    <h1>Iniciar Sesión</h1>

    <form id="loginForm" autocomplete="off">
      <label for="usuario">Usuario</label>
      <input type="text" id="usuario" required>
      <label for="contrasena">Contraseña</label>
      <input type="password" id="contrasena" required>
      <button type="submit" class="btn-inicio btn-slim">Iniciar Sesión</button>
      <div id="login_msg" class="msg"></div>
    </form>

    <p>¿Aún no tienes cuenta? <a href="interfaz_registro_cliente.html">Regístrate</a></p>
  </div>

  <!-- ===== LEGAL FUERA DE LA PÁGINA ===== -->
  <div class="legal-outside">
    Todos los derechos reservados © 2025<br>
    Citas Ya S.A.S - Nit 810.000.000-0
  </div>

  <script>
    /*
      Pequeña "base de datos" en memoria para pruebas locales:
      - username y password exactos según perfíl
      - redirect indica la interfaz destino tras login
    */
    const USERS = [
      { username: 'Cliente',  password: 'cliente',  role: 'cliente', redirect: 'interfaz_agendar.html' },
      { username: 'Barbero',  password: 'barbero',  role: 'barbero', redirect: 'interfaz_organizar_agenda.html' },
      { username: 'Admin',    password: 'admin',    role: 'admin',   redirect: 'interfaz_admin.html' }
    ];

    const form = document.getElementById('loginForm');
    const msg  = document.getElementById('login_msg');

    function findUser(u){
      // Búsqueda exacta por username tal como lo definiste (respetando mayúsculas/minúsculas)
      return USERS.find(x => x.username === u);
    }

    form.addEventListener('submit', function(e){
      e.preventDefault();
      msg.textContent = '';

      const u = document.getElementById('usuario').value.trim();
      const p = document.getElementById('contrasena').value.trim();

      if (!u || !p){
        msg.textContent = 'Por favor completa usuario y contraseña.';
        return;
      }

      const user = findUser(u);
      if (!user || user.password !== p){
        msg.textContent = 'Usuario o contraseña incorrectos.';
        return;
      }

      // OK → redirige según perfil
      window.location.href = user.redirect;
    });
  </script>
</body>
</html>
