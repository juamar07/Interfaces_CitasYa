<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Organizar Agenda</title>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Open Sans', sans-serif;
      background-color: #eeeeee;
      margin: 0;
      padding: 20px;
      color: #333;
    }
    
    .container {
      max-width: 800px;
      margin: auto;
      padding: 20px;
      background-color: #ffffff;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
      border-radius: 10px;
      border-left: 4px solid #5c6bc0;
    }
    
    button {
      display: block;
      width: 100%;
      margin: 20px 0;
      background-color: #4CAF50;
      color: white;
      border: none;
      padding: 15px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-weight: 600;
      transition: background-color 0.3s, transform 0.3s;
      font-size: 16px;
    }
    
    button:hover {
      background-color: #388E3C;
      transform: translateY(-2px);
    }
    
    .back-button {
      display: inline-block;
      margin-bottom: 20px;
      text-decoration: none;
      font-size: 16px;
      color: #5c6bc0;
      padding: 8px 12px;
      border: 1px solid #5c6bc0;
      border-radius: 5px;
      transition: background-color 0.3s, color 0.3s;
    }
    .back-button:hover {
      background-color: #5c6bc0;
      color: #ffffff;
    }
    
    h1 {
      color: #000;
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 20px;
      text-align: center;
    }
    
    label {
      display: block;
      margin: 10px 0;
      color: #003366;
      font-size: 16px;
      font-weight: 400;
    }
    
    input[type="text"], select, textarea {
      width: 100%;
      padding: 12px;
      margin-bottom: 20px;
      border: 2px solid #dddddd;
      border-radius: 5px;
      box-sizing: border-box;
      transition: border-color 0.3s;
      font-size: 16px;
    }
    
    input[type="text"]:focus, select:focus, textarea:focus {
      outline: none;
      border-color: #7da2a9;
    }
    
    textarea {
      background-color: #fafafa;
      border: 2px solid #e0e0e0;
      resize: none;
    }
    
    /* Estilos para las opciones de días */
    .dias-disponibles div {
      margin-bottom: 5px;
    }
    
    /* Estilo específico para el botón Portal de Pagos */
    #portal_pagos {
      background-color: #f44336;
    }
    #portal_pagos:hover {
      background-color: #d32f2f;
    }
    
    /* Estilo para el recordatorio de pago */
    .recordatorio {
      text-align: center;
      font-size: 14px;
      color: #555;
      margin-top: 10px;
    }
    
    @media (max-width: 768px) {
      .container {
        width: 100%;
        padding: 10px;
      }
      
      h1 {
        font-size: 20px;
      }
      
      label, button {
        font-size: 14px;
      }
    }
  </style>
</head>
<body>

<div class="container">
  <h1>Organizar Agenda</h1>

  <a href="interfaz_inicio_s.html" class="back-button">&larr; Volver</a>
  
  <!-- Datos básicos -->
  <label for="nombre_usuario">Ingrese su nombre</label>
  <input type="text" id="nombre_usuario" placeholder="Ej: Juan Uribe">
  
  <label for="nombre_barberia">Nombre de la Barbería/Peluquería</label>
  <input type="text" id="nombre_barberia" placeholder="Ej: Barbería XYZ">
  
  <!-- Horario de trabajo -->
  <label>Seleccione su horario de trabajo</label>
  
  <label for="hora_inicio">Hora de inicio</label>
  <input type="time" id="hora_inicio" step="600" min="07:00" max="20:00">
  
  <label for="hora_fin">Hora de fin</label>
  <input type="time" id="hora_fin" step="600" min="07:10" max="20:00">
  
  <!-- Días de trabajo -->
  <label>Seleccione los días que trabajará</label>
  <div class="dias-disponibles">
    <div>
      <input type="checkbox" id="lunes" value="Lunes">
      <label for="lunes">Lunes</label>
    </div>
    <div>
      <input type="checkbox" id="martes" value="Martes">
      <label for="martes">Martes</label>
    </div>
    <div>
      <input type="checkbox" id="miercoles" value="Miércoles">
      <label for="miercoles">Miércoles</label>
    </div>
    <div>
      <input type="checkbox" id="jueves" value="Jueves">
      <label for="jueves">Jueves</label>
    </div>
    <div>
      <input type="checkbox" id="viernes" value="Viernes">
      <label for="viernes">Viernes</label>
    </div>
    <div>
      <input type="checkbox" id="sabado" value="Sábado">
      <label for="sabado">Sábado</label>
    </div>
  </div>
  
  <!-- Excepción en la disponibilidad -->
  <label>Excepción en la disponibilidad</label>
  <label for="dia_excepcion">Seleccione día para excepción</label>
  <select id="dia_excepcion">
    <option>Seleccione</option>
    <option>Lunes</option>
    <option>Martes</option>
    <option>Miércoles</option>
    <option>Jueves</option>
    <option>Viernes</option>
    <option>Sábado</option>
  </select>
  
  <label for="estado_excepcion">Estado para la excepción</label>
  <select id="estado_excepcion">
    <option>Seleccione</option>
    <option>Disponible</option>
    <option>Ocupado</option>
  </select>
  
  <button id="actualizar_agenda">Actualizar agenda</button>
  <h2 id="respuesta_agenda"></h2>
  <textarea id="detalle_agenda" rows="4"></textarea>
  
  <!-- Botón Portal de Pagos -->
  <button id="portal_pagos">Portal de Pagos</button>
  <p class="recordatorio">Recuerda hacer el pago de la suscripción antes del 28 de cada mes.</p>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  var nombreUsuario = document.getElementById('nombre_usuario');
  var nombreBarberia = document.getElementById('nombre_barberia');
  var horaInicio = document.getElementById('hora_inicio');
  var horaFin = document.getElementById('hora_fin');
  var actualizarBtn = document.getElementById('actualizar_agenda');
  var respuestaAgenda = document.getElementById('respuesta_agenda');
  var detalleAgenda = document.getElementById('detalle_agenda');

  var diasCheckbox = {
    lunes: document.getElementById('lunes'),
    martes: document.getElementById('martes'),
    miercoles: document.getElementById('miercoles'),
    jueves: document.getElementById('jueves'),
    viernes: document.getElementById('viernes'),
    sabado: document.getElementById('sabado')
  };

  var diaExcepcion = document.getElementById('dia_excepcion');
  var estadoExcepcion = document.getElementById('estado_excepcion');

  actualizarBtn.addEventListener('click', function(e) {
    e.preventDefault();
    var nombre = nombreUsuario.value.trim();
    var barberia = nombreBarberia.value.trim();
    var inicio = horaInicio.value;
    var fin = horaFin.value;

    // Obtiene los días seleccionados
    var diasTrabajados = [];
    for (var dia in diasCheckbox) {
      if (diasCheckbox[dia].checked) {
        diasTrabajados.push(diasCheckbox[dia].value);
      }
    }

    // Construye el mensaje de la agenda
    var mensaje = "Agenda actualizada para " + nombre + " - " + barberia + ":\n";
    mensaje += "Horario de trabajo: de " + (inicio ? inicio : "no seleccionado") + " a " + (fin ? fin : "no seleccionado") + ".\n";
    if(diasTrabajados.length > 0) {
      mensaje += "Días de trabajo: " + diasTrabajados.join(", ") + ".\n";
    } else {
      mensaje += "No se han seleccionado días de trabajo.\n";
    }

    // Verifica la excepción (si se seleccionó un día y un estado)
    var excepcionDia = diaExcepcion.options[diaExcepcion.selectedIndex].text;
    var excepcionEstado = estadoExcepcion.options[estadoExcepcion.selectedIndex].text;
    if (excepcionDia !== "Seleccione" && excepcionEstado !== "Seleccione") {
      mensaje += "Excepción: El día " + excepcionDia + " se marcará como " + excepcionEstado + ".\n";
    } else {
      mensaje += "Sin excepciones de disponibilidad.\n";
    }

    respuestaAgenda.textContent = "Agenda Actualizada";
    detalleAgenda.value = mensaje;
  });
  
  // Botón Portal de Pagos: redirige a la interfaz de pagos
  document.getElementById('portal_pagos').addEventListener('click', function() {
    window.location.href = 'interfaz_pagos.html';
  });
});
</script>

</body>
</html>
